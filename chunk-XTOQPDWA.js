import{a as l,b as n,d as a}from"./chunk-QQSIVCMV.js";var c=class{constructor(i){this.repo=i}setVisibilidade(i,r){return a(this,null,function*(){try{let o=(yield this.repo.getLocal()).find(d=>d.index===i);if(!o)return console.warn(`[VisibilidadeService] Item index=${i} n\xE3o encontrado`),null;let s=n(l({},o),{visivel_jogadores:r}),t=yield this.repo.update(s);return console.log("[VisibilidadeService] setVisibilidade OK \u2192",t),t}catch(e){return console.error("[VisibilidadeService] Erro em setVisibilidade:",e),null}})}toggleVisibilidade(i){return a(this,null,function*(){try{let e=(yield this.repo.getLocal()).find(s=>s.index===i);if(!e)return null;let o=!e.visivel_jogadores;return this.setVisibilidade(i,o)}catch(r){return console.error("[VisibilidadeService] Erro em toggleVisibilidade:",r),null}})}setVisibilidadeBatch(i,r){return a(this,null,function*(){try{let o=(yield this.repo.getLocal()).filter(t=>i.includes(t.index)).map(t=>n(l({},t),{visivel_jogadores:r}));if(o.length===0)return[];let s=yield this.repo.updateBatch(o);return console.log("[VisibilidadeService] setVisibilidadeBatch OK \u2192",s),s}catch(e){return console.error("[VisibilidadeService] Erro em setVisibilidadeBatch:",e),[]}})}};export{c as a};
