import{a as l,b as n,g as o}from"./chunk-YAKM3PEZ.js";var d=class{constructor(e){this.repo=e}setVisibilidade(e,r){return o(this,null,function*(){try{let i=yield this.repo.getById(e,!0);if(!i)return console.warn(`[VisibilidadeService] Item id=${e} n\xE3o encontrado`),null;let s=n(l({},i),{visivel_jogadores:r}),t=yield this.repo.update(s);return console.log("[VisibilidadeService] setVisibilidade OK \u2192",t),t}catch(i){return console.error("[VisibilidadeService] Erro em setVisibilidade:",i),null}})}toggleVisibilidade(e){return o(this,null,function*(){try{let r=yield this.repo.getById(e,!0);if(!r)return null;let i=!r.visivel_jogadores;return this.setVisibilidade(e,i)}catch(r){return console.error("[VisibilidadeService] Erro em toggleVisibilidade:",r),null}})}setVisibilidadeBatch(e,r){return o(this,null,function*(){try{let s=(yield this.repo.getLocal()).filter(a=>e.includes(a.id)).map(a=>n(l({},a),{visivel_jogadores:r}));if(s.length===0)return[];let t=yield this.repo.updateBatch(s);return console.log("[VisibilidadeService] setVisibilidadeBatch OK \u2192",t),t}catch(i){return console.error("[VisibilidadeService] Erro em setVisibilidadeBatch:",i),[]}})}};export{d as a};
