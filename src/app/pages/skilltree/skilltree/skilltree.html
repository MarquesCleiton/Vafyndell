<div class="skilltree-wrapper d-flex flex-column min-vh-100 bg-dark text-light pb-5">
  <div class="flex-grow-1 p-3 d-flex justify-content-center">
    <div class="skilltree-container w-100">
      <h2 class="fw-bold mb-4">ğŸŒ³ Ãrvores de Habilidades</h2>

      <!-- Tabs -->
      <ul class="nav nav-tabs mb-3">
        <li class="nav-item" *ngFor="let caminho of caminhos">
          <a class="nav-link"
             [class.active]="abaAtiva === caminho.id"
             (click)="selecionarAba(caminho)">
            {{ caminho.caminho }}
          </a>
        </li>
      </ul>

      <!-- Loading -->
      <div *ngIf="carregando" class="text-center py-5">
        <div class="spinner-border text-light"></div>
        <p class="mt-2">Carregando habilidades...</p>
      </div>

      <!-- Grafo -->
      <div *ngIf="!carregando && abaAtiva" class="caminho-body p-3">
        <ngx-graph
          class="chart-container"
          [links]="links"
          [nodes]="nodes"
          [layout]="'dagreCluster'">
        </ngx-graph>
      </div>

      <!-- Detalhes -->
      <div *ngIf="habilidadeSelecionada" class="detalhe card bg-secondary p-3 shadow-lg">
        <h4>{{ habilidadeSelecionada.habilidade }} (Lv {{ habilidadeSelecionada.nivel }})</h4>
        <p>{{ habilidadeSelecionada.descricao }}</p>
        <p *ngIf="habilidadeSelecionada.dependencia">ğŸ”— Depende de: {{ habilidadeSelecionada.dependencia }}</p>
        <p *ngIf="habilidadeSelecionada.requisito">ğŸ“Œ Requisito: {{ habilidadeSelecionada.requisito }}</p>
      </div>
    </div>
  </div>
</div>
