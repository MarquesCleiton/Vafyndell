<div class="skilltree-wrapper d-flex flex-column min-vh-100 bg-dark text-light pb-5">
  <div class="flex-grow-1 p-3 d-flex justify-content-center">
    <div class="skilltree-container w-100">

      <!-- Título -->
      <h2 class="page-title">🌳 Árvores de Habilidades</h2>

      <!-- Tabs -->
      <ul class="nav nav-tabs custom-tabs mb-4">
        <li class="nav-item" *ngFor="let caminho of caminhos">
          <a
            class="nav-link"
            [class.active]="abaAtiva === caminho.id"
            (click)="selecionarAba(caminho)"
          >
            {{ caminho.caminho }}
          </a>
        </li>
      </ul>

      <!-- Loading -->
      <div *ngIf="carregando" class="text-center py-5">
        <div class="spinner-border text-light"></div>
        <p class="mt-2">Carregando habilidades...</p>
      </div>

      <!-- Árvores -->
      <div *ngIf="!carregando && abaAtiva" class="arvores-scroll">
        <div *ngFor="let arvore of arvoresAtivas" class="arvore-card shadow-lg">
          <h3 class="arvore-titulo">{{ arvore.arvore }}</h3>
          <div #cyContainer class="cy-arvore"></div>
        </div>
      </div>

      <!-- Detalhe da Habilidade -->
      <div *ngIf="habilidadeSelecionada" class="detalhe-card shadow-lg mt-4 p-3 position-relative">
        <!-- Botão editar -->
        <button
          class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-2"
          (click)="editarHabilidade(habilidadeSelecionada.id)"
        >
          ✏️
        </button>

        <h4 class="detalhe-nome">
          {{ habilidadeSelecionada.habilidade }}
          <span class="nivel">Lv {{ habilidadeSelecionada.nivel }}</span>
        </h4>

        <p class="detalhe-descricao">{{ habilidadeSelecionada.descricao }}</p>

        <div class="detalhe-extra" *ngIf="habilidadeSelecionada.requisitos">
          <span>📌 Requisito:</span> {{ habilidadeSelecionada.requisitos }}
        </div>
      </div>

    </div>
  </div>
</div>
