<mat-sidenav-container class="app-container bg-dark text-light" *ngIf="!isLoginPage(); else loginOutlet">
  <!-- Menu lateral (desktop) -->
  <mat-sidenav #sidenav [mode]="isMobile ? 'over' : 'side'" [opened]="!isMobile" class="sidenav bg-dark text-light">
    <mat-nav-list>
      <a mat-list-item (click)="navigateTo('/jogador'); isMobile && sidenav.close()">游븸 Jogador</a>
      <a mat-list-item (click)="navigateTo('/skills-jogador'); isMobile && sidenav.close()">游 Skills</a>
      <a mat-list-item (click)="navigateTo('/inventario-jogador'); isMobile && sidenav.close()">游닍 Invent치rio</a>
      <a mat-list-item (click)="navigateTo('/oficina'); isMobile && sidenav.close()">丘뉦잺 Oficina</a>
      <a mat-list-item (click)="navigateTo('/batalha'); isMobile && sidenav.close()">丘덢잺 Batalha</a>
      <a mat-list-item (click)="navigateTo('/anotacoes'); isMobile && sidenav.close()">游닇 Notas</a>
      <a mat-list-item (click)="navigateTo('/catalogo'); isMobile && sidenav.close()">游닄 Cat치logo</a>
      <a mat-list-item (click)="navigateTo('/npcs'); isMobile && sidenav.close()">游놏 Feras & Vil칫es</a>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Conte칰do principal -->
  <mat-sidenav-content>
    <!-- Topbar fixa -->
    <mat-toolbar class="bg-dark text-light fixed-top d-flex align-items-center">
      <button mat-icon-button (click)="sidenav.toggle()" class="text-light d-lg-none">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="ms-2">{{ title() }}</span>
      <span class="flex-grow-1"></span>
      <button mat-icon-button (click)="onRefresh()" class="text-light">
        <mat-icon>refresh</mat-icon>
      </button>
    </mat-toolbar>

    <!-- 츼rea de rotas -->
    <div class="page-content">
      <router-outlet></router-outlet>
    </div>

    <!-- Navbar inferior (s칩 mobile) -->
    <nav *ngIf="isMobile"
      class="bottom-nav bg-dark border-top border-secondary d-flex justify-content-around py-2 fixed-bottom">
      <button mat-button (click)="navigateTo('/jogador')" class="nav-item d-flex flex-column align-items-center">
        <mat-icon>person</mat-icon>
        <small>Jogador</small>
      </button>
      <button mat-button (click)="navigateTo('/skills-jogador')" class="nav-item d-flex flex-column align-items-center">
        <mat-icon>psychology</mat-icon>
        <small>Skills</small>
      </button>
      <button mat-button (click)="navigateTo('/inventario-jogador')"
        class="nav-item d-flex flex-column align-items-center">
        <mat-icon>inventory</mat-icon>
        <small>Invent치rio</small>
      </button>
      <button mat-button (click)="navigateTo('/oficina')" class="nav-item d-flex flex-column align-items-center">
        <mat-icon>build</mat-icon>
        <small>Oficina</small>
      </button>
      <button mat-button (click)="navigateTo('/batalha')" class="nav-item d-flex flex-column align-items-center">
        <mat-icon>swords</mat-icon>
        <small>Batalha</small>
      </button>
      <button mat-button (click)="navigateTo('/anotacoes')" class="nav-item d-flex flex-column align-items-center">
        <mat-icon>notes</mat-icon>
        <small>Notas</small>
      </button>
    </nav>
  </mat-sidenav-content>
</mat-sidenav-container>

<!-- Template alternativo s칩 para login -->
<ng-template #loginOutlet>
  <router-outlet></router-outlet>
</ng-template>