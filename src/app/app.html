<mat-sidenav-container class="app-container bg-dark text-light" *ngIf="!isLoginPage(); else loginOutlet">
  <!-- Menu lateral (desktop) -->
  <mat-sidenav #sidenav [mode]="isDesktop ? 'side' : 'over'" class="sidenav bg-dark text-light" [opened]="isDesktop">
    <!-- CabeÃ§alho -->
    <div class="sidenav-header d-flex align-items-center gap-2 px-3 py-3 border-bottom">
      <span class="fw-bold app-title">Vafyndell</span>
    </div>

    <mat-nav-list>
      <a mat-list-item (click)="navigateWithClose('/jogador', sidenav)">ğŸ§ Jogador</a>
      <a mat-list-item (click)="navigateWithClose('/skilltree', sidenav)">âœ¨ Skills</a>
      <a mat-list-item (click)="navigateWithClose('/inventario-jogador', sidenav)">ğŸ’ InventÃ¡rio</a>
      <a mat-list-item (click)="navigateWithClose('/oficina', sidenav)">âš’ï¸ Bancada</a>
      <a mat-list-item (click)="navigateWithClose('/batalha', sidenav)">âš”ï¸ Batalha</a>
      <a mat-list-item (click)="navigateWithClose('/anotacoes', sidenav)">ğŸ“œ Notas</a>

      <mat-divider></mat-divider>

      <a mat-list-item (click)="navigateWithClose('/catalogo', sidenav)">ğŸ“š CatÃ¡logo</a>
      <a mat-list-item (click)="navigateWithClose('/npcs', sidenav)">ğŸ‘¹ Feras & VilÃµes</a>
      <a mat-list-item (click)="navigateWithClose('/edicao-skilltree', sidenav)">â• Cadastrar Skill</a>

      <mat-divider></mat-divider>

      <!-- ğŸšª BotÃ£o de sair -->
      <a mat-list-item (click)="logout(sidenav)" class="text-danger fw-bold">
        ğŸšª Sair
      </a>
    </mat-nav-list>


  </mat-sidenav>

  <!-- ConteÃºdo principal -->
  <mat-sidenav-content>
    <!-- Topbar -->
    <mat-toolbar class="bg-dark text-light fixed-top d-flex align-items-center">
      <button mat-icon-button (click)="sidenav.toggle()" class="text-light d-lg-none">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="ms-2">{{ title() }}</span>
      <span class="flex-grow-1"></span>
      <button mat-icon-button (click)="onRefresh()" class="text-light" [disabled]="syncing()">
        <mat-icon [ngClass]="{ 'refresh-rotating': syncing() }">refresh</mat-icon>
      </button>

    </mat-toolbar>

    <!-- Ãrea de rotas -->
    <div class="page-content">
      <router-outlet></router-outlet>
    </div>

    <!-- Navbar inferior (sÃ³ mobile) -->
    <nav
      class="bottom-nav bg-dark border-top border-secondary d-flex justify-content-around py-2 fixed-bottom d-lg-none">
      <button mat-button (click)="navigateTo('/jogador')" class="nav-item d-flex flex-column align-items-center">
        <h6 class="m-0">ğŸ§</h6>
        <small>Jogador</small>
      </button>
      <button mat-button (click)="navigateTo('/skilltree')" class="nav-item d-flex flex-column align-items-center">
        <h6 class="m-0">âœ¨</h6>
        <small>Skills</small>
      </button>
      <button mat-button (click)="navigateTo('/inventario-jogador')"
        class="nav-item d-flex flex-column align-items-center">
        <h6 class="m-0">ğŸ’</h6>
        <small>InventÃ¡rio</small>
      </button>
      <button mat-button (click)="navigateTo('/oficina')" class="nav-item d-flex flex-column align-items-center">
        <h6 class="m-0">âš’ï¸</h6>
        <small>Bancada</small>
      </button>
      <button mat-button (click)="navigateTo('/batalha')" class="nav-item d-flex flex-column align-items-center">
        <h6 class="m-0">âš”ï¸</h6>
        <small>Batalha</small>
      </button>
      <button mat-button (click)="navigateTo('/anotacoes')" class="nav-item d-flex flex-column align-items-center">
        <h6 class="m-0">ğŸ“œ</h6>
        <small>Notas</small>
      </button>
    </nav>
  </mat-sidenav-content>
</mat-sidenav-container>

<!-- Template sÃ³ para login -->
<ng-template #loginOutlet>
  <router-outlet></router-outlet>
</ng-template>